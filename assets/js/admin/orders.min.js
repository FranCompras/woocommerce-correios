jQuery(function(a){var b={init:function(){a(document.body).on("click",".jadlog-tracking-code .dashicons-dismiss",this.removeTrackingCode).on("click",".jadlog-tracking-code .button-secondary",this.addTrackingCode)},block:function(){a("#wc_jadlog").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},unblock:function(){a("#wc_jadlog").unblock()},addTrackingFields:function(b){var c=a("body #wc_jadlog .jadlog-tracking-code"),d=wp.template("tracking-code-list");a(".jadlog-tracking-code__list",c).remove(),c.prepend(d({trackingCodes:b}))},addTrackingCode:function(c){c.preventDefault();var d=a("#add-tracking-code"),e=d.val();if(""!==e){var f=b,g={action:"woocommerce_jadlog_add_tracking_code",security:WCJadlogAdminOrdersParams.nonces.add,order_id:WCJadlogAdminOrdersParams.order_id,tracking_code:e};f.block(),d.val(""),a.ajax({type:"POST",url:ajaxurl,data:g,success:function(a){f.addTrackingFields(a.data),f.unblock()}})}},removeTrackingFields:function(b){var c=a("body #wc_jadlog .jadlog-tracking-code__list");1===a("li",c).length?c.remove():b.closest("li").remove()},removeTrackingCode:function(c){if(c.preventDefault(),window.confirm(WCJadlogAdminOrdersParams.i18n.removeQuestion)){var d=b,e=a(this),f={action:"woocommerce_jadlog_remove_tracking_code",security:WCJadlogAdminOrdersParams.nonces.remove,order_id:WCJadlogAdminOrdersParams.order_id,tracking_code:e.data("code")};d.block(),a.ajax({type:"POST",url:ajaxurl,data:f,success:function(){d.removeTrackingFields(e),d.unblock()}})}}};b.init()});